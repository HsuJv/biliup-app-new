# Biliup App - B站视频上传管理工具

![Version](https://img.shields.io/badge/version-0.2.2-blue)
![Platform](https://img.shields.io/badge/platform-Windows%20%7C%20macOS%20%7C%20Linux-lightgrey)
![License](https://img.shields.io/badge/license-MIT-green)

一个基于 Tauri + Vue 3 构建的现代化 B站视频上传管理桌面应用程序，提供直观的用户界面和强大的批量上传功能。

## ✨ 主要特性

### 🔐 用户管理
- **多账号登录支持** - 同时管理多个B站账号
- **账号状态管理** - 实时显示登录状态和用户信息
- **安全登出** - 智能检测上传任务，防止意外登出

### 📝 模板系统
- **模板创建与管理** - 为不同类型的视频创建可复用的上传模板
- **模板复制与重命名** - 快速复制现有模板并修改
- **自动保存** - 实时保存模板修改，支持 Ctrl+S 快捷键
- **未保存提示** - 可视化显示未保存的模板更改
- **模板重置** - 一键恢复模板到保存前的状态

### 🎬 视频文件管理
- **多格式支持** - 支持 MP4、AVI、MOV、MKV、WMV、FLV、M4V、WEBM 等主流视频格式
- **拖拽上传** - 直接拖拽视频文件到应用窗口即可添加
- **批量选择** - 支持同时选择多个视频文件
- **文件排序** - 可调整视频在稿件中的播放顺序
- **文件信息编辑** - 支持修改视频标题

### 📤 智能上传
- **队列管理** - 统一的上传队列，支持暂停、继续、取消操作
- **进度监控** - 实时显示上传进度和传输速度
- **自动重试** - 上传失败时支持自动重试
- **并发控制** - 控制并发上传数量，优化带宽使用

### 🤖 自动化功能
- **自动上传** - 添加文件后自动加入上传队列
- **自动开始** - 文件添加到队列后自动开始上传
- **自动提交** - 所有文件上传完成后自动提交稿件
- **文件夹监控** - 监控指定文件夹，自动处理新增的视频文件

### 📊 状态监控
- **视频转码状态** - 实时查看B站视频转码处理状态
- **详细错误信息** - 点击展开查看转码失败的具体原因

### 🎨 视频属性配置
- **基本信息** - 标题、简介、封面、分区设置
- **发布选项** - 原创/转载、来源声明、定时发布
- **高级设置** - 弹幕/评论开关、充电开关、转载限制
- **音视频选项** - 杜比音效、Hi-Res无损音质支持
- **标签管理** - 便捷的标签添加和删除功能
- **合集管理** - 支持添加到视频合集和分区

### 🛠️ 用户体验
- **快捷键支持** - Ctrl+S 保存，禁用意外刷新
- **拖拽支持** - 全面的文件拖拽交互

## 🚀 快速开始

### 环境要求

- **Node.js** >= 16.0.0
- **Rust** >= 1.70.0
- **系统要求**: Windows 10+, macOS 10.15+, 或 Linux (现代发行版)

### 安装依赖

```bash
# 安装前端依赖
npm install
```

### 开发环境运行

```bash
# 启动开发环境
npm run dev

# 或者使用 Tauri 开发模式
npm run tauri dev
```

### 构建应用

```bash
# 构建生产版本
npm run build

# 构建 Tauri 应用
npm run tauri build
```

## 📖 使用指南

### 1. 账号登录
1. 启动应用后，点击登录按钮
2. 使用B站账号登录（支持多账号同时登录）
3. 登录成功后账号会显示在左侧边栏

### 2. 创建模板
1. 在左侧边栏选择用户，点击新建模板
2. 填写模板基本信息（标题、简介、分区等）
3. 模板会自动保存，可重复使用

### 3. 添加视频文件
- **方式一**: 点击"选择视频文件"按钮，从文件对话框选择
- **方式二**: 直接拖拽视频文件到应用窗口
- **方式三**: 使用文件夹监控功能，自动处理新文件

### 4. 配置视频属性
- **基本信息**: 修改标题、简介、封面图片
- **发布设置**: 选择分区、设置标签、配置发布时间
- **高级选项**: 音视频质量、互动功能设置

### 5. 上传和发布
1. 点击"加入上传队列"将视频添加到上传队列
2. 在上传队列中监控上传进度
3. 上传完成后点击"提交稿件"发布视频
4. 可使用自动提交功能，上传完成后自动发布

### 6. 状态监控
- 对于已发布的稿件，点击"检查转码状态"查看处理进度
- 转码失败的视频可点击查看详细错误信息
- 支持批量刷新所有视频的转码状态


## 📁 项目结构

```
biliup-app/
├── src/                          # Vue 前端源码
│   ├── components/               # Vue 组件
│   │   ├── VideoList.vue        # 视频文件列表管理
│   │   ├── VideoStatus.vue      # 视频转码状态查看
│   │   ├── UploadQueue.vue      # 上传队列管理
│   │   ├── LoginView.vue        # 用户登录界面
│   │   ├── UserConfig.vue       # 用户配置管理
│   │   └── ...                  # 其他组件
│   ├── stores/                  # Pinia 状态管理
│   │   ├── auth.ts             # 认证状态管理
│   │   ├── upload.ts           # 上传状态管理
│   │   ├── user_config.ts      # 用户配置管理
│   │   └── utils.ts            # 工具函数状态
│   ├── views/                   # 页面视图
│   │   └── MainView.vue        # 主界面
│   └── router/                  # 路由配置
├── src-tauri/                   # Tauri 后端源码
│   ├── src/
│   │   ├── commands/           # Tauri 命令处理
│   │   ├── models/             # 数据模型定义
│   │   ├── services/           # 核心业务逻辑
│   │   └── utils/              # 工具函数
│   ├── Cargo.toml             # Rust 依赖配置
│   └── tauri.conf.json        # Tauri 应用配置
├── public/                     # 静态资源文件
├── package.json               # Node.js 依赖配置
└── vite.config.ts            # Vite 构建配置
```

## ⚙️ 配置选项

### 自动化配置
- **自动上传** (`auto_upload`) - 添加文件后自动加入上传队列
- **自动开始** (`auto_start`) - 文件加入队列后自动开始上传
- **自动编辑** (`auto_edit`) - 新稿件发布后自动创建编辑模板

### 视频处理
- **格式过滤** - 自动过滤支持的视频格式
- **重复检测** - 防止重复添加相同文件
- **批量操作** - 支持批量删除和批量配置

### 界面设置
- **模板折叠** - 各个配置区域支持折叠展开
- **自动提交高亮** - 可选择是否高亮显示自动提交状态
- **实时更新** - 上传进度和状态实时刷新

## 🔧 开发指南

### 代码格式化

```bash
# 格式化所有代码
npm run fmt

# 仅格式化前端代码
npm run format

# 检查代码格式
npm run format:check
```

### 调试模式

```bash
# 启动开发服务器
npm run dev

# 在 Tauri 环境中调试
npm run tauri dev
```

### 构建发布

```bash
# 构建完整应用
npm run tauri build
```

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request！

### 开发准备
1. Fork 本仓库
2. 创建功能分支 (`git checkout -b feature/amazing-feature`)
3. 提交更改 (`git commit -m 'Add some amazing feature'`)
4. 推送到分支 (`git push origin feature/amazing-feature`)
5. 提交 Pull Request

### 代码规范
- 提交前请运行 `npm run fmt` 格式化所有代码
- 遵循现有的代码结构和命名规范

## 🐛 问题反馈

如果遇到问题，请通过以下方式反馈：

1. **GitHub Issues** - 提交详细的问题描述和复现步骤
2. **功能建议** - 欢迎提出新功能的建议和想法
3. **使用问题** - 详细描述遇到的问题和错误信息

## 📄 许可证

本项目基于 MIT 许可证开源 - 查看 [LICENSE](LICENSE) 文件了解详情。

## 🙏 致谢

- [Tauri](https://tauri.app/) - 跨平台桌面应用框架
- [Vue.js](https://vuejs.org/) - 渐进式 JavaScript 框架
- [Element Plus](https://element-plus.org/) - Vue 3 组件库
- [biliup](https://github.com/biliup/biliup) - B站上传核心库


**注意**: 本工具仅用于合法内容的上传，请遵守B站社区规则和相关法律法规。
